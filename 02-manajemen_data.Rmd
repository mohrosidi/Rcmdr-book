# Manajemen Data{#datamanage}

<style>
body{
text-align: justify}
</style>

Pada Chapter \@ref(datamanage), penulis akan menjelaskan kepada pembaca bagaimana cara menyiapkan data sebelum dilakukan analisa pada `R Commander`. Adapun yang akan dijelaskan pada Chapter \@ref(datamanage), antara lain:

* Operator operasi yang digunakan pada `R`,
* Jenis dan struktur data yang ada pada `R`,
* Konsep *tidy data*,
* Input data pada `R Commander`,
* Membaca data dari file eksternal,
* Membaca data dari paket,
* Menyimpan dan memuat data,
* Memodifikasi Variabel pada data, dan
* Memanipulasi Dataset.

## Operator Operasi Pada `R` {#opop}

<style>
body{
text-align: justify}
</style>

Terdapat sejumlah operator operasi yang penting untuk pembaca ketahui, antara lain:

* Operator aritmatika,
* Operator perbandingan, dan
* Operator logika.


### Operator Aritmatika {#aritmatikop}

Proses perhitungan akan ditangani oleh fungsi khusus. `R` akan memahami urutannya secara benar. Kecuali kita secara eksplisit menetapkan yang lain. Sebagai contoh tuliskan dan jalankan sintaks berikut pada Console `R` (tekan enter) maupun `R Commander` (tekan tombol submit):

```{r}
2+4*2
```

Bandingkan dengan sintaks berikut:

```{r}
(2+4)*2
```

> **TIPS!**:`R` dapat digunakan sebagai kalkulator


Berdasarkan kedua hasil tersebut dapat disimpulkan bahwa ketika kita tidak menetapkan urutan perhitungan menggunakan tanda kurung, `R` akan secara otomatis akan menghitung terlebih dahulu perkalian atau pembangian. 

Operator aritmatika yang disediakan `R` disajikan pada Tabel \@ref(tab:oparitmatika):


**Simbol**     | **Keterangan**
---------------|--------------------------------------------------------------------------------------
`+`              | *Addition*, untuk operasi penjumlahan
`-`              | *Substraction*, untuk operasi pengurangan
`*`              | *Multiplication*, untuk operasi pembagian
`/`              | *Division*, untuk operasi pembagian
`^`              | *Eksponentiation*, untuk operasi pemangkatan
`%%`             | *Modulus*, Untuk mencari sisa pembagian
`%/%`            | *Integer*, Untuk mencari bilangan bulat hasil pembagian saja dan tanpa sisa pembagian

: (\#tab:oparitmatika) Operator Aritmatika `R`.

Untuk lebih memahaminya berikut contoh sintaks penerapan operator tersebut.

```{r}
# Addition
5+3

# Substraction
5-3

# Multiplication
5*3

# Division
5/3

# Eksponetiation
5^3

# Modulus
5%%3

# Integer
5%/%3

```

Penggunaan operator aritmatika perlu mempertimbangkan hierarki prioritas operasinya. Pada contoh sebelumnya kita telah belajar bahwa operasi aritmatika akan dikerjakan terlebih dahulu dari yang ada di dalam tanda kurung lalu setelah itu akan diikuti oleh operasi lainnya. Secara lengkap, hierarki prioritas operasi aritmatika dirangkum pada Tabel \@ref(tab:hieraritop):

| **Prioritas** | **Operator**      | **Keterangan**    |
|:--------------|:------------------|:------------------|
| 1             | `+`,`-`           | unari (tanda +,-) |
| 2             | `^`               |                   |
| 3             | `*`,`/`,`%%`,`%/%`|                   |
| 4             | `+`,`-`           | binari            |

: (\#tab:hieraritop) Hierarki prioritas operasi operator aritmatika.

Berdasarkan Tabel \@ref(tab:hieraritop), pembaca dapat memprediksi output dari operasi berikut:

```{r, eval=FALSE}
-2+(3^2*2)/3
```

Operasi tersebut akan menghasilkan nilai `r -2+(3^2*2)/3` dengan urutan pengerjaan sebagai berikut:

1. Pemberian tanda negatif pada angka 2
2. Operasi dalam tanda kurung dengan urutan eksponensiasi (`3^2`) diikuti perkalian (`9*2`)
3. Operasi pembagian terhadap nilai dalam kurung dengan angka 3 (`18/3`)
4. Operasi penjumlahan (`-2+6`)

### Operator Perbandingan

Operator relasi digunakan untuk membandingkan satu objek dengan objek lainnya. Operator yang disediakan `R` disajikan pada Tabel \@ref(tab:oprelasi).

|**Simbol**     | **Keterangan**         | **Deskripsi**                                                                            |
|:--------------|:-----------------------|:-----------------------------------------------------------------------------------------|
| `==`          | sama dengan            | bernilai `TRUE` jika kedua objek bernilai sama                                           |
| `!=`          | tidak sama denga       | bernilai `TRUE` jika kedua objek tidak bernilai sama                                     |
| `>`           | lebih besar dari       | bernilai `TRUE` jika nilai objek kanan lebih besar dari nilai objek kiri                 |
| `<`           | lebih kecil dari       | bernilai `TRUE` jika nilai objek kanan lebih kecil dari nilai objek kiri                 |
| `>=`          | lebih besar sama dengan| bernilai `TRUE` jika nilai objek kanan lebih besar atau sama dengan dari nilai objek kiri|
| `<=`          | lebih kecil sama dengan| bernilai `TRUE` jika nilai objek kanan lebih kecil atau sama dengan dari nilai objek kiri|

: (\#tab:oprelasi) Operator Relasi `R`.

Berikut adalah penerapan operator pada tabel tersebut:

```{r}
x <- 34
y <- 35

# Operator >
x > y

# Operator <
x < y

# operator ==
x == y

# Operator >=
x >= y

# Operator <=
x <= y

# Operator !=
x != y

```

Operator perbandingan memiliki hierarki prioritas yang lebih rendah dibandingkan dengan operator aritmatika. Pembaharuan Tabel \@ref(tab:hieraritop) dilakukan dengan menambahkan operator perbandingan ditampilkan pada Tabel \@ref(tab:hierperbandtop).

| **Prioritas** | **Operator**      | **Keterangan**    |
|:--------------|:------------------|:------------------|
| 1             | `+`,`-`           | unari (tanda +,-) |
| 2             | `^`               |                   |
| 3             | `*`,`/`,`%%`,`%/%`|                   |
| 4             | `+`,`-`           | binari            |
| 5             | `<`,`<=`,`>`,`>=` |                   |
| 6             | `==`,`!=`         |                   |

: (\#tab:hierperbandtop) Hierarki prioritas operasi dengan penambahan operator perbandingan.

### Operator Logika

Operator logika hanya berlaku pada vektor dengan tipe logical, numeric, atau complex. Semua angka bernilai 1 akan dianggap bernilai logika `TRUE`. Operator logika yang disediakan `R` dapat dilihat pada Tabel \@ref(tab:oplogika).

**Simbol**     | **Keterangan**           
---------------|----------------------------------
`&&`             | Operator logika AND
`||`             | Operator logika OR
`!`              | Opeartor logika NOT
`&`              | Operator logika AND element wise
`|`              | Operator logika OR element wise
 
: (\#tab:oplogika) Operator logika `R`.

Penerapannya terdapat pada sintaks berikut:

```{r}
v <- c(TRUE,TRUE, FALSE)
t <- c(FALSE,FALSE,FALSE)

# Operator &&
print(v&&t)

# Operator ||
print(v||t)

# Operator !
print(!v)

# operator &
print(v&t)

# Operator |
print(v|t)
```

operator `&` dan `|` akan mengecek logika tiap elemen pada vektor secara berpesangan (sesuai urutan dari kiri ke kanan). Operator `%%` dan `||` hanya mengecek dari kiri ke kanan pada observasi pertama. Misal saat menggunakan && jika observasi pertama `TRUE` maka observasi pertama pada vektor lainnya akan dicek, namun jika observasi pertama `FALSE` maka proses akan segera dihentikan dan menghasilkan `FALSE`.

## Tipe dan Struktur Data

<style>
body{
text-align: justify}
</style>

Data pada `R` dapat dikelompokan berdasarkan beberapa tipe. Tipe data pada `R` disajikan pada Tabel \@ref(tab:tipedata).

**Tipe Data**  | **Contoh**              | **Keterangan**
---------------|-------------------------|---------------------------------------------------------------------------------
Logical        | TRUE, FALSE             | Nilai Boolean
Numeric        | 12.3, 5, 999            | Segala jenis angka
Integer        | 23L, 97L, 3L            | Bilangan integer (bilangan bulat)
Complex        | 2i, 3i, 9i              | Bilangan kompleks
Character      | 'a', "b", "123"         | Karakter dan string
Factor         | 1, 0, "Merah"           | Dapat berupa numerik atau string (namun pada proses akan terbaca sebagai angka)
Raw            | Identik dengan "hello"  | Segala jenis data yang disimpan sebagai raw bytes

: (\#tab:tipedata) Tipe data `R`.

Sintaks berikut adalah contoh dari tipe data pada `R`. Untuk mengetahui tipa data suatu objek kita dapat menggunakan perintah `class()`

```{r}
# Logical
apel <- TRUE
class(apel)

# Numeric
x <- 2.3
class(x)

# Integer
y <- 2L
class(y)

# Compleks
z <- 5+2i
class(z)

# string
w <- "saya"
class(w)

# Raw
xy <- charToRaw("hello world")
class(xy)

```

Keenam jenis data tersebut disebut sebagai tipe data atomik. Hal ini disebabkan karena hanya dapat menangani satu tipe data saja. Misalnya hanya numeric atau hanya integer.

Selain menggunakan fungsi `class()`, kita dapat pula menggunakan fungsi `is_numeric()`, `is.character()`, `is.logical()`, dan sebagainya berdasarkan jenis data apa yang ingin kita cek. Berbeda dengan fungsi `class()`, ouput yang dihasilkan pada fungsi seperti `is_numeric()` adalah nilai Boolean sehingga fungsi ini hanya digunakan untuk mengecek apakah jenis data pada objek sama seperti yang kita pikirkan. Sebagai contoh disajikan pada sintaks berikut:

Struktur data diklasifikasikan berdasarkan dimensi data dan tipe data di dalamnya (homogen atau heterogen). Klasifikasi jenis data disajikan pada Tabel \@ref(tab:strukturdata).

**Dimensi**  | **Homogen**      | **Heterogen**
-------------|------------------|---------------
1d           | Atomik vektor    | List
2d           | Matriks          | Dataframe
nd           | Array            |               

: (\#tab:strukturdata) Struktur data `R`.

Berdasarkan Tabel tersebut dapat kita lihat bahwa objek terbagi atas dua buah struktur data yaitu homogen dan heterogen. Objek dengan struktur data homogen hanya dapat menyimpan satu tipe atau jenis data saja (numerik saja atau factor saja), sedangkan objek dengan struktur data heterogen akan dapat menyimpan berbagai jenis data. 

## Konsep *Tidy Data* {#tidydata}

<style>
body{
text-align: justify}
</style>

Sebelum memulai analisa terhadap data yang kita miliki, umumnya kita akan merapikan data yang akan kita gunakan. Tujuannya adalah agar data yang akan digunakan sudah siap untuk dilakukan analisa dengan software tertentu seperti `R` atau `R Commander`, dimana pada dataset perlu jelas antara variabel dan nilai (*value*), serta untuk mempermudah dalah memperoleh informasi pada data. Sebelum kita melakukan analisa di dataset tersebut, kita harus tahu terlebih dahulu apa saja syarat suatu dataset dikatakan rapi (*tidy*). Berikut adalah syaratnya:

- Setiap variabel harus memiliki kolomnya sendiri
- Setiap observasi harus memiliki barisnya sendiri
- Setiap nilai berada pada sel tersendiri

Ketiga syarat tersebut saling berhubungan sehingga jika salah satu syarat tersebut tidak terpenuhi, maka dataset belum bisa dikatakan *tidy*. Ketiga syarat tersebut dapat divisualisasikan melalui Gambar \@ref(fig:tidy).

```{r tidy, echo=FALSE, fig.cap='Visualisasi 3 rule tidy data (Sumber: Grolemund dan Wickham, 2017).', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/tidy.png"
include_graphics(img1_path)

```

## Input Data pada `R Commander`

<style>
body{
text-align: justify}
</style>

Input data dapat dilakukan secara langsung pada `R Commander`. Input data secara langsung umumnya dilakukan jika jumlah data yag kita miliki relatif kecil. Untuk melakukanya jalakan tahapan berikut:

1. Pada menu, klik `Data/New data set...`. Klik `OK`,
2. Pada jedela yang muncul, ketikkan nama dataset yang kita inginkan. Klik `OK`
3. Pada jendela `Data Editor:Nama_Dataset`, ketikkan data yang kita miliki.
4. Untuk menambah baris klik tombol `Add row`, sedangkan untuk menambah kolom klik tombol `Add column`.
5. Untuk mengubah nama kolom, klik pada bagian nama kolom dan ketikkan nama kolom yang diinginkan.
6. Secara *default* *rowname* akan dinamai urutan observasi. Namun, kita dapat memberikan nama pada masing-masing kolom dengan cara meng-klik nama baris pada tiap barisnya.
7. Untuk mengecek dataset yang telah kita buat, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:inputdata).

```{r inputdata, echo=FALSE, fig.cap='Visualisasi tahapan input dataset pada R Commander.', tidy=FALSE, fig.width=5, fig.align='center', out.width='70%', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/input_data.png"
include_graphics(img1_path)

```

Terdapat beberapa hal yang perlu diperhatikan pada proses input data, antara lain:

* Dalam pemberian *rownames*. Jika *rownames* mengandung spasi, input *rownames* disertai tanda *quote* (contoh:`"Nama Baris"`). Jika tidak ingin menggunakan spasi pada *rownames*, gunakan tanda titik atau koma sebagai pemisah kata (contoh:`Nama.Baris` atau `Nama_Baris`).
* Pastikan *rownames* bersifat unik (tidak ada duplikasi nama).
* Pembaca dapat menggunakan tombol pada pada *keyboard* untuk bernavigasi pada *data editor* atau gunakan klik kiri pada sel yang ingin dituju.
* Jenis data pada kolom akan secara otomatis ditentukan oleh seluruh data yang ada pada kolomnya. Jika data berupa angka, program secara otomatis mengkonversinya menjadi data `numeric`. Jika data berupa campuran angka atau karakter, secara otomatis program mengkonversinya menjadi `Character`.
* Pembaca dapat memperluas area sel dengan cara menggeser sisi sel atau dengan cara memperluas melalui menggeser ujung jendela editor.
* Dataset yang telah dibuat dapat diedit kembali dengan cara klik *toolbar* `Edit data set`.

## Membaca Data dari File Eksternal {#impeks}

<style>
body{
text-align: justify}
</style>

Pada Chapter \@ref(impeks), pembaca akan mempelajari bagaimana cara melakukan import data dari berbagai sumber seperti *plain text*, *spreadsheets*, SPSS, STATA, SAS, dan Minitab. Sebelum melakukan hal tersebut terdapat beberapa hal yang perlu pembaca perhatikan, antara lain:

* Pastikan data berada dalam format *tidy data* (lihat Chapter \@ref(tidydata)), dan
* Pastikan *missing value* berada pada notasi yang konsisten.

Data yang berasal dari berbagai sumber akan memberikan format notasi *missing value* yang berbeda-beda, misalnya data yag berasal dari database akan memberikan notasi `NULL` terhadap *missing value*, sedangkan data yang berasal dari *spreadsheet* akan memberikan notasi *missing value* berdasarkan operasi yang dilakukan pada datanya (contoh: `#VALUE!` untuk hasil operasi 2 buah objek berbeda tipe datanya). `RCommander` tidak dapat menangani kondisi di mana pada satu kolom data terdapat lebih dari 1 notasi *missing value*. Untuk mengatasi hal tersebut, pembaca perlu menyeragamkan notasi *missing value* pada data (contoh: mengubahnya menjadi notasi `NA` atau dikosongkan jika data bersumber dari *spreadsheet*).

Pada Chapter \@ref(impeks), pembaca akan diberikan contoh bagaimana melakukan import data yang disajikan pada Tabel \@ref(tab:mtcars). 

```{r mtcars, echo=FALSE, message=FALSE, warning=FALSE}
library(readr)
        
df <- read_csv("./dataset/mtcars.csv")


knitr::kable(
  head(df,10), caption = 'Sepuluh Observasi pertama dataset mtcars'
)
```


Adapun penjelasan terkait Tabel \@ref(tab:mtcars) ditampilkan pada Tabel \@ref(tab:mtcars2)

| **Variabel** | **Keterangan**                                    |
|:-------------|:--------------------------------------------------|
| `mpg`        | Mil/(US) galon                                    |
| `cyl`        | Jumlah silinder                                   |
| `disp`       | *Displacement* (cu.in)                            |
| `hp`         | *Gross horsepower*                                |
| `drat`       | Rasio gandar belakang                             |
| `wt`         | Berat (1000 lb)                                   |
| `qsec`       | Watu tempuh 1/4 mil                               |
| `vs`         | Mesin (0=*V-shape*, 1=*straight*)                 |
| `am`         | Transmisi (0=otomatis, 1=manual)                  |
| `gear`       | Jumlah *gear* depan                               |
| `carb`       | Jumlah karburator                                 |

: (\#tab:mtcars2) Penjelasan variabel dataset mtcars.

### Membaca Data dari Sumber *Plain Text*

Terdapat 3 buah metode untuk membaca data dari *plain text*. Metode tersebut dibagi berdasarkan lokasi file *plain text* tersebut berada. 

**Membaca file yang berada pada sistem lokal**

1. Pada menu `Data`, klik `Data/Import data/from text file,clipboard,or URL...`. 
2. Pada jendela yang muncul, isikan spesifikasi file (lihat Tabel \@ref(tab:readpltext)) dan nama objek dataset yang diinginkan. Pada bagian `Location of Data File` pilih `Local file system`. Klik `OK`.
3. Pada jendela `Windows Explorer` yang muncul, pilih file yang hendak dibaca. Klik `Open`.
4. Untuk melihat dataset yang berhasil dibuat, klik pada *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:implocal).

```{r implocal, echo=FALSE, fig.cap='Visualisasi tahapan membaca file plain text dari sistem lokal.', tidy=FALSE, fig.width=5, fig.align='center', out.width='70%', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/implocal.png"
include_graphics(img1_path)

```

**Membaca file yang berada pada _clipboard_**

1. *Higlight* tabel dataset yang pembaca miliki dan *copy* dataset tersebut. Dataset tersebut selanjutnya akan tersimpan pada *clipboard*.
2. Pada menu `Data`, klik `Data/Import data/from text file,clipboard,or URL...`. 
3. Pada jendela yang muncul, isikan spesifikasi file (lihat Tabel \@ref(tab:readpltext)) dan nama objek dataset yang diinginkan. Pada bagian `Location of Data File` pilih `clipboard`  .Klik `OK`.
4. Dataset akan secara otomatis dibuat oleh program dengan mengambil data yang tersimpan pada *clipboard*.
5. Untuk melihat dataset yang berhasil dibuat, klik pada *toolbar* `View data set`.

**Membaca file yang berada pada URL**

1. *Copy* halaman URL lokasi dataset berada.
2. Pada menu `Data`, klik `Data/Import data/from text file,clipboard,or URL...`. 
3. Pada jendela yang muncul, isikan spesifikasi file (lihat Tabel \@ref(tab:readpltext)) dan nama objek dataset yang diinginkan. Pada bagian `Location of Data File` pilih `Internet URL`. Klik `OK`.
4. Pada jendela yang muncul tempelkan (*pasting*) halaman URL yang telah di *copy* sebelumnya.
4. Untuk melihat dataset yang berhasil dibuat, klik pada *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:impurl).

```{r impurl, echo=FALSE, fig.cap='Visualisasi tahapan membaca file plain text dari internet URL.', tidy=FALSE, fig.width=5, fig.align='center', out.width='70%', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/impurl.png"
include_graphics(img1_path)

```

Sintaks yang muncul pada `R Console` saat proses telah dilakukan adalah sebagai berikut:

```{r, eval=FALSE}
# sistem lokal
Dataset <- read.table("D:/mtcars.txt", header=TRUE, 
                      sep="", na.strings="NA", dec=".",
                      strip.white=TRUE)
# clipboard
Dataset <- read.table("clipboard", header=TRUE, 
                      sep="", na.strings="NA",
                      dec=".", strip.white=TRUE)
# URL
Dataset <- read.table("www.abcde.com/mtcars.txt", 
                      header=TRUE, sep="",na.strings="NA", 
                      dec=".", strip.white=TRUE)

```


|**No.**| **Item**                 |**Jenis Input**| **Keterangan**                                                                            | 
|:------|:-------------------------|:--------------|:------------------------------------------------------------------------------------------|
|1.     | `Enter name for data set`| *text input*  |Input nama dataset yang diinginkan sebagai output                                          |
|2.     | `Variable name in file`  | *Check box*   |Jika di centang, program membaca baris pertama tabel sebagai nama kolom                    |
|3.     | `Missing value indikator`| *text input*  |Karakter yang mengidikasikan missing value dalam file (misal: *White space*, NA, NaN, dll) |
|4.     | `Location of Data File`  | *radio button*|Lokasi file yang akan dibaca berada                                                        |
|5.     | `Field Separator`        | *radio button*|Pemisah antar kolom data yang digunakan                                                    |
|6.     | `Decimal-Point Character`| *radio button*|Karakter yang digunakan sebagai penunjuk *decimal-point*                                   |

: (\#tab:readpltext)  Penjelasan terkait item pada jendela Read Text Data From File, Clipboard, or URL.

### Membaca Data dari Sumber *Spreadsheet* dan Lainnya

Format data lain yang dapat dibaca oleg `R Commander` adalah `xlsx` (Excel) ,`.dta` (STATA), `.sav` (SPSS), `.sas7bdat` dan `.xport` (SAS), serta `.mtp` (minitab). Cara membaca data dengan format tersebut cukup sederhana dilakukan pada `R Commander`. Pembaca hanya perlu menuju menu `Data/Import data` dan memilih sumber data yang ingin dibaca. Pada jendela yang muncul (kecuali format `.xport`) pembaca diminta untuk melakukan sejumlah konfigurasi seperti apakah *rownames* terletak pada kolom pertama, apakah perlu mengubah jenis data karakter menjadi faktor, dll. Pada kondisi dimana pembaca diminta untuk mengkonversi karakter menjadi faktor, penulis menyarankan untuk tidak melakukannya saat awal membaca data sebab akan menyulitkan pada saat melakukan analisis data selanjutnya. Konversi karakter menjadi faktor dilakukan pada sejumlah variabel yang memang ingin diubah menjadi faktor (bisa numerik atau karakter). Tampilan jendela konfigurasi awal saat membaca data ditampilkan pada Gambar \@ref(fig:impanother).

```{r impanother, echo=FALSE, fig.cap='Tampilan jendela konfigurasi import data berbagai format file.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/impanother.png"
include_graphics(img1_path)

```

Contoh sintaks yang akan muncul saat proses tersebut selesai adalah sebagai berikut:

```{r, eval=FALSE}
# .xlsx
Dataset <- readXL("D:/mtcars.xlsx", rownames=FALSE, 
                  header=TRUE, na="", sheet="mtcars",
                  stringsAsFactors=TRUE)

# .sav
Dataset <- readSPSS("D:/mtcars.sav", rownames=FALSE,
                    stringsAsFactors=TRUE, tolower=FALSE)

# .xport
Datasets <- read.xport("D:/mtcars.xport")

# .sasb7dat
Dataset <- readSAS("D:/mtcars.sas7bdat",
                   stringsAsFactors=TRUE, rownames=FALSE)

# .dta
Dataset <- readStata("D:/mtcars.dta", convert.dates=TRUE,
                     stringsAsFactors=TRUE, rownames=FALSE)
```

## Membaca Data dari Paket

<style>
body{
text-align: justify}
</style>

### Memuat Paket

Jika pembaca ingin mengakses dataset dari paket yang pembaca inginkan, pembaca dapat menjalankan perintah berikut pada `R Console`:

```{r, eval=FALSE}
library(nama_paket)
```

Jika paket tersebut belum terpasang, jalankan perintah berikut:

```{r, eval=FALSE}
install.packages("nama_paket")
```

Jika pembaca kesulitan menggunakan cara tersebut, pembaca dapat menggunakan metode yang sama dengan cara memasang paket `Rcmdr` (lihat Chapter \@ref(installrcmdr)) dan memuat paket `Rcmdr` (lihat Chapter \@ref(loadrcmdr)).

### Memuat Dataset Pada Paket

Untuk mengecek dataset apa saja yang tersedia paket yang telah aktif, lakukan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Data in packages/List data set in packages`.
2. Jendela `R data sets` yang memberikan daftar seluruh dataset yang tersedia pada paket yang telah dimuat akan muncul.

Pada proses tersebut, `R Script` akan memunculkan sebuah sintaks berikut:

```{r, eval=FALSE}
data()
```

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:loaddata).

```{r loaddata, echo=FALSE, fig.cap='Tampilan langkah menampilkan seluruh dataset dari paket.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/loaddata.png"
include_graphics(img1_path)

```

### Membaca Data

Untuk membaca dataset dari paket, jalankan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Data in packages/Read data set from an attached package...`.
2. Pada kotak `package`, *double click* paket yang pembaca ingin lihat datasetnya. Daftar dataset selanjutnya akan muncul pada kotak `Data set`.
3. Pilih dataset yang pembaca ingin baca. Pembaca dapat merubah nama dataset yang akan dibaca melalui kotak `Enter nama of data set`. Klik `OK`.
4. Untuk melihat dataset yang telah dimuat, klik *toolbar* `View data set`.

Pada contoh berikut, penulis mencoba memuat dataset `mtcars` dari paket `datasets`. Sintaks yang muncul pada `R Script` dan kotat `Output` adalah sebagai berikut:

```{r, eval=FALSE}
data(mtcars, package="datasets")
```

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:datapaket).

```{r datapaket, echo=FALSE, fig.cap='Tampilan langkah membaca dataset pada paket.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/datapaket.png"
include_graphics(img1_path)

```

## Meyimpan dan Memuat Data

<style>
body{
text-align: justify}
</style>

### Menyimpan Dataset

Data pada `R Commander` dapat disimpan ke dalam format `.RData`. Penyimpanan dalam format tersebut akan mempermudah pembaca untuk memperoleh data tersebut saat akan dibaca kembali dan pembaca tidak perlu mengulangi kembali proses membaca data pada bagian sebelumnya. 
Untuk dapat menyimpan data menggunakan format `.RData` yang telah berhasil dibaca pada `R Commander`, pembaca dapat melakukan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Active data set/Save active data set...`.
2. Pada jendela `Windows Explorer` yang muncul, navigasikan ke lokasi atau folder di mana data tersebut akan disimpan. Beri nama data tersebut sesuai dengan nama yang diinginkan. Klik `Save`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:saverdata).

```{r saverdata, echo=FALSE, fig.cap='Tampilan tahapan menyimpan data ke dalam format RData.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/saverdata.png"
include_graphics(img1_path)

```

Pada `R Script` dan kotak `Output` akan muncul sintaks berikut yang menandakan bahwa data yang ada pada `R Commander` telah disimpan pada folder yang telah penulis inginkan.

```{r, eval=FALSE}
save("mtcars", file="D:/EnvStat/Rcmdr-book/dataset/mtcars.RData")
```

Selain menyimpan data ke dalam format `.RData`, `R Commander` juga dapat menyimpan data ke dalam format `.csv`. Untuk melakukannya jalankan langkah berikut:

1. Pada menu `Data`, klik `Data/Active data set/Export active data set...`.
2. Pada jendela yang muncul, spesifikasikan format data yang akan disimpan (lihat Tabel \@ref(tab:exdata)).
3. Pada jendela `Windows Explorer` yang muncul, navigasikan ke lokasi atau folder di mana data tersebut akan disimpan. Beri nama data tersebut sesuai dengan nama yang diinginkan. Klik `Save`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:savecsv).

```{r savecsv, echo=FALSE, fig.cap='Tampilan tahapan menyimpan data ke dalam format csv.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/savecsv.png"
include_graphics(img1_path)

```

Pada `R Script` dan kotak `Output` akan muncul sintaks berikut yang menandakan bahwa data yang ada pada `R Commander` telah disimpan pada folder yang telah penulis inginkan.

```{r, eval=FALSE}
write.table(mtcars, "D:/mtcars2.csv", sep=",", 
            col.names=TRUE, row.names=TRUE, 
            quote=TRUE, na="NA")
```

|**No.**| **Item**                        |**Jenis Imput**| **Keterangan**                                                           |
|:------|:--------------------------------|:--------------|:-------------------------------------------------------------------------|
|1.     | `Write variable names`          | *check box*   |pilihan apakah nama variabel akan disertakan ke dalam file csv            |
|2.     | `Write row names`               | *check box*   |pilihan apakah nama baris disertakan ke dalam file csv                    |
|3.     | `Quotes around character values`| *check box*   |pilihan apakah tipe data karakter diberi tanda petik                      |
|4.     | `Missing values`                | *text input*  |simbol atau karakter *missing value* yang digunakan pada file csv         |
|5.     | `Field Separator`               | *radio button*|pemisah antar kolom data yang digunakan                                   |

: (\#tab:exdata) Penjelasan item jendela Export active data set.


### Memuat Data

Data yang telah disimpan ke dalam format `.RData` dapat langsung dimuat ke dalam `R Commander` tanpa perlu menspesifikasikan kembali format data yang hendak dibaca. Untuk melakukannya jalankan langkah berikut:

1. Pada menu `Data`, klik `Data/Load data set...`.
2. Pada jendela `Windows Explorer` yang muncul, navigasikan ke lokasi atau folder di mana data tersebut berada. Pilih data yang akan dimuat. Klik `Open`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:loadrdata).

```{r loadrdata, echo=FALSE, fig.cap='Tampilan tahapan memuat data dalam format RData.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/loadrdata.png"
include_graphics(img1_path)

```

## Memodifikasi Variabel pada Data {#modvar}

<style>
body{
text-align: justify}
</style>

Menu `Data/Manage variables in active data set` merupakan menu yang dibuat untuk memodifikasi variabel dan membuat variabel baru pada dataset. Pada Chapter \@ref(modvar), penulis akan memjelaskan cara menggunakan submenu `Recode variables` untuk merubah level pada tipe data `factor` dan membuat variabel baru dari variabel dengan tipe data `numeric`, penulis juga akan menjelaskan cara menggunakan submenu `Reorder Factor Levels` untuk mengubah urutan `factor` yang semula berdasarkan urutan alfabet menjadi sesuai dengan yang kita inginkan, serta informasi lain terkait penggunaan submenu pada menu `Data/Manage variables in active data set`. 

### Variabel *Recoding* {#revar}

Terdapat dua kegunaan submenu `Recode Variables`, yaitu: membuat `factor` baru dengan cara mentransformasi variabel `numeric` menjadi `factor`, serta merubah urutan level suatu `factor`. 

Ketentuan *recode* pada `Recode Variables` secara umum memiliki formula `*nilai-lama=nilai-baru*`, dimana `nilai-baru` (nilai awal variabel tercatat) dispesifikasi sesuai dengan Tabel \@ref(tab:recodevar). Berikut adalah sejumlah informasi yang perlu pembaca perhatikan untuk memahami penggunaan submenu `Recode Varibles`:

* Jika nilai variabel lama yang tercatat sama sekali ketentuan *recode* yang kita tetapkan, nilai tersebut hanya dibawa menuju `Recode Variables`. Sebagai contoh, jika aturan `"sangat setuju"="setuju"` ditetapkan, tapi nilai lama untuk `factor` `"setuju"` tidak dicatat, maka kedua nilai lama (`factor` lama) tersebut digabung menjadi satu sehingga `("sangat setuju","setuju")="setuju"`.
* Jika nilai variabel lama yang dicatat memenuhi lebih dari satu ketetapan *recode*, maka ketentuan pertama yang berlaku diterapkan. Sebagai contoh, jika terdapat variabel `pendapatan` dengan ketentuan *recode* `lo:2.500.000="rendah"` dan `2.500.000:7.500.000="sedang"`, maka sebuah observasi dengan variabel `pendapatan` bernilai `2.500.000` akan dikategorikan sebagai `"rendah"`.
* Seperti yang telah dijabarkan pada poin sebelumnya, karakter spesial `lo` digunakan untuk menyatakan nilai variabel `numeric` terkecil, sedangkan `hi` digunakan untuk variabel `numeric` dengan nilai tertinggi.
* Pada setiap ketentuan *recode* pastikan diakhiri dengan nilai `else` yang menunjukkan nilai lain diluar ketentuan *recode* sebelumnya (termasuk *missing value*).


|**No.** |**Nilai Lama**                 |**Contoh Ketentuan _Recode_**                                                     |
|:-------|:------------------------------|:---------------------------------------------------------------------------------|
|1.      |nilai individual(`a`)          | `99=NA`; `NA="missing"`; `"sangat setuju="setuju"`                               |
|2.      |sebuah set nilai (`a,b,...,k`) | `1,3,5,..,k="ganjil"`; `"sangat setuju","cukup setuju"="setuju"`                 |
|3.      |rentang numerik  (`a:b`)       | `1901:2000="abad 21"`; `lo:2.000.000="rendah"`; `10.000.000:hi="tinggi"`         |
|4.      |lainnya (`else`)               | `else="lainnya"`


: (\#tab:recodevar) Ketentuan recode pada submenu Recode Variables.

Pada dataset `mtcars` (lihat Tabel \@ref(tab:mtcars)), misalkan kita ingin menambahkan variabel baru berupa `factor` yang menyatakan klasifikasi kendaraan berdasarkan tingkat penggunaan bahan bakar per mil (`mpg`). Untuk kendaraan dengan ketentuan `mpg` `lo:20="boros"`, `20:30="sedang"`, dan `else="hemat"`. Berikut adalah langkah-langkah untuk melakukannya:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Recode variables..`.
2. Pada jendela yang muncul pilih variabel yang ingin dilakukan *recoding*, tentukan ketentuan *recodingnya*, dan nama variabel baru yang dihasilkan. Penjelasan terkait jendela tersebut ditampilkan pada Tabel \@ref(tab:recodevar2). 
3. Spesifikasikan apakah tipe data variabel tersebut adalah `factor` atau bukan dengan mencentang *checkbox*. Klik `OK`.
4. Untuk melihat variabel baru yang telah terbentuk, klik `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:recode).

```{r recode, echo=FALSE, fig.cap='Tampilan tahapan recoding variabel.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/recodevar.png"
include_graphics(img1_path)

```

Proses tersebut akan memunculkan sintaks pada `R Script` sebagai berikut:

```{r, eval=FALSE}
mtcars <- within(mtcars, {kategori <- Recode(mpg,
          `lo:20.0="boros"; 20.0:30.0="sedang"; else="hemat"; ;',
          as.factor=TRUE)
})
```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                            |
|:------|:----------------------|:--------------|:------------------------------------------|
|1.     |Variables to recode    | *select box*  |daftar nama variabel yang akan di *recode* |
|2.     |New variable name or.. | *text input*  |nama baru untuk variabel yang dibuat       |
|3.     |Make (each) variable.. | *check box*   |pilihan apakah variabel baru adalah factor |
|4.     |Enter recode directives| *text input*  |kotak untuk memasukkan ketentuan *recode*  |

: (\#tab:recodevar2) Penjelasan item jendela Recode Variables.

### Komputasi Variabel Baru

Pada saat analisis data, variabel yang kita miliki terkadang tidak cukup untuk menjelaskan suatu fenomena. Namun, kita dapat membentuk sebuah variabel baru yang dapat membantu menjelaskan fenomena tersebut. Pembentukan variabel baru dapat berupa tranformasi sebuah variabel atau pembentukan variabel berdasarkan beberapa formulasi beberapa variabel lain.

Dalam melakukan tranformasi variabel, kita dapat memanfaatkan sejumlah operator operasi yang telah penulis jelaskan pada Chapter \@ref(aritmatikop). Selain operator tersebut, terdapat sejumlah fungsi operasi arimatika yang tersedia pada `R`. Fungsi-fungsi tersebut, antara lain:

1. Logaritma dan eksponensial

Untuk contoh fungsi logaritmik dan eksponensial jalankan sintaks berikut:

```{r}
log2(8) # logaritma basis 2 untuk 8
log10(8) # logaritma basis 10 untuk 8
exp(8) # eksponensial 8
```

2. Fungsi trigonometri

fungsi trigonometri yang ditampilkan seperti sin,cos, tan, dll.

```{r, eval=FALSE}
cos(x) # cos x
sin(x) # Sin x
tan(x) # Tan x
acos(x) # arc-cos x
asin(x) # arc-sin x
atan(x) #arc-tan x
```


> **PENTING!!!: x dalam fungsi trigonometri memiliki satuan radian



Berikut adalah salah satu contoh penggunaannya:

```{r}
cos(pi)
```


3. Fungsi matematik lainnya

Fungsi lainnya yang dapat digunakan adalah fungsi absolut, akar kuadrat, dll. Berikut adalah contoh sintaks penggunaan fungsi absolut dan akar kuadrat.

```{r}
abs(-2) # nilai absolut -2
sqrt(4) # akar kuadrat 4
```

Untuk memahami permasalahan terkait komputasi variabel baru, kita akan membuat variabel baru pada dataset `mtcars` yang telah dijelaskan pada Tabel \@ref(tab:mtcars). Variabel baru yang akan kita buat adalah variabel rasio antara jarak tempuh per satuan bahan bakar (`mpg`) terhadap berat kendaraan (`wt`) dan kita namai variabel baru tersebut `rwt`. Variabel baru ini dapat menjadi alternatif lain dalam menjelaskan efisiensi suatu mobil yang ditandai dengan rasio antara jarak tempuh terhadap bobot dan konsumsi bahan bakarnya. Berikut adalah tahapan untuk melakukannya:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Compute new variable`.
2. Pada jendela yang muncul, ketikkan formula pembentuk variabel baru pada kotak `Expression to compute`.
3. Untuk memasukkan nama variabel ke dalam formula, pembaca dapat mengetikkan nama variabel secara manual atau melakukan *double click* nama variabel yang tersedia pada kotak `Current variables`.
4. Ketikkan nama variabel baru pada kotak `New variable name`. Klik `OK`.
5. Untuk mengecek variabel yang telah terbentuk, klik `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:computevar).

```{r computevar, echo=FALSE, fig.cap='Tampilan tahapan komputasi variabel baru.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/computevar.png"
include_graphics(img1_path)

```

Berdasarkan tahapan tersebut, sintaks yang terbentuk pada `R Script` adalah sebagai berikut:

```{r, eval=FALSE}
mtcars$rwt <- with(mtcars, mpg/ wt)
```

### Menambahkan Variabel Nomor Observasi Pada Dataset

Untuk menambahkan variabel nomor observasi pada dataset jalankan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Add observation numbers to data set`.
2. Variabel `ObsNumber` berupa nomor observasi akan secara otomatis ditambahkan pada akhir kolom dataset.
3. Untuk mengecek variabel baru tersebut, klik *toolbar* `View data set`.

Pada akhir tahapan, sintaks berikut tercetak pada `R Script`:

```{r, eval=FALSE}
dataset$ObsNumber <- 1:"number of observation"
```

### Standardisasi Variabel

Standardisasi variabel bertujuan untuk mentransformasi variabel sehingga variabel tersebut memiliki nilai rata-rata 0 dan simpangan baku 1. Tahapan melakukan standardisasi variabel pada `R Commander` adalah sebagai berikut:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Standardize variables...`.
2. Pada jendela yang muncul, pilih variabel yang akan di standardisasi. Pembaca dapat memilih lebih dari satu variabel dengan cara menekan tombol ctrl+klik (pada Windows) saat memilih variabel. Klik `OK`.
3. Untuk mengecek variabel yang telah distandadrdisasi, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:stanvar).

```{r stanvar, echo=FALSE, fig.cap='Tampilan tahapan standardisasi variabel.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/stanvar.png"
include_graphics(img1_path)

```

Sintaks yang digunakan dalam tahapan tersebut adalah sebagai berikut:

```{r, eval=FALSE}
dataset <- local({
  .Z <- scale(dataset[,c("namavariabel")])
  within(dataset, {
    Z.namavariabel <- .Z[,nomor_kolom_variabel] 
  })
})
```

### Merubah Variabel *Numeric* Menjadi *Factor* {#numfac}

Pada Chapter \@ref(revar), kita telah belajar bagaimana cara melakukan *recoding* variabel dan membentuk *factor*. Pada Chapter \@ref(numfac), kita akan membahas cara merubah variabel *numeric* menjadi *factor* tanpa perlu melakukan proses *recoding*. Pada Chapter ini, kita hanya perlu mesuplai variabel *numeric* yang akan diubah menjadi *factor*. Kita juga dapat menambahkan label pada *factor* tersebut. Untuk melakukannya jalankan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Convert numeric varibles to factors`.
2. Spesifikasikan variabel yang akan diubah menjadi *factor* (lihat Tabel \@ref(tab:numtofac2)). Klik `OK`
3. Untuk mengecek apakah variabel telah terkonversi menjadi *factor*, klik `Statistics/Summaries/Active data set`. Variabel yang telah dikonversi menjadi *factor* akan memberikan ringkasan data berupa tabel kontingensi (tidak menampilkan mean, min, max, dll).


Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:numtofac).

```{r numtofac, echo=FALSE, fig.cap='Tampilan tahapan merubah variabel numeric menjadi factor.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/numtofac.png"
include_graphics(img1_path)

```

Sintaks yang dihasilkan pada proses tersebut adalah sebagai berikut:

```{r, eval=FALSE}
# use numbers
dataset <- within(dataset, {
  namavariabel <- as.factor(namavariabel)
})

# supply level names
dataset<- within(dataset, {
  namavariabel <- factor(namavariabel, 
                         labels=c('label1','label2',...))
})
```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Variables              | *select box*  |daftar nama variabel yang akan diubah menjadi *factor*                                               |
|2.     |Factor levels          | *radio button*|pilihan apakah perlu menambahkan label pada *factor* atau tidak                                      |
|3.     |New variable name or...| *text input*  |jika tidak diisi maka variabel lama akan diganti variabel baru (tidak ada variabel baru ditambahkan) |

: (\#tab:numtofac2) Penjelasan item convert numeric variables to factors.

### Melakukan *Binning* pada Variabel *Numeric*

*Binning* variabel numeric merupakan cara untuk mengelompokkan nilai variabel *numeric* ke dalam suatu kelas berdasarkan rentang tertentu. Penetapan rentang pada proses *binning* di `R Commander` terbagi atas 3 metode, yaitu:

* **_Equal-width_** : membagi data ke dalam kelas berdasarkan interval yang seragam.
* **_Equal-count_** : membagi data ke dalam  kelas berdasarkan jumlah kelas yang sama.
* **_Natural break_** : membagi data ke dalam kelas berdasarkan jarak terdekat (biasanya menggunakan jarak Euclidian) pada pusat masing-masing kelas. Algoritma pengelompokan yang biasa digunakan adalah algoritma *k-means* (baca [K-Means](https://id.wikipedia.org/wiki/K-means)).

Tahapan untuk melakukan proses *binning* variabel numeric antara lain:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Bin numeric variable...`.
2. Pada jendela yang muncul spesifikasikan variabel numeric yang akan di *binning* dan metode pengelompokan yang digunakan (lihat Tabel \@ref(tab:binvartab). Klik `OK`.
3. Untuk mengecek variabel hasil *binning*, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:binvar).

```{r binvar, echo=FALSE, fig.cap='Tampilan tahapan binning variabel numeric.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/binvar.png"
include_graphics(img1_path)

```

Sintaks yang digunakan pada masing-masing metode *binning*, antara lain:

```{r, eval=FALSE}
# Equal-width
dataset$namavariabel <- with(dataset, binVariable(variabel, 
                        bins="jumlah_bin", method='intervals',
                        labels=c("label1",...)))
dataset$namavariabel <- with(dataset, binVariable(variabel, 
                        bins="jumlah_bin", method='proportions', 
                        labels=c("label1",...)))
dataset$namavariabel <- with(dataset, binVariable(variabel, 
                        bins="jumlah_bin", method='natural',
                        labels=c("label1",...)))
```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Variables to bin       | *select box*  |daftar nama variabel *numeric* yang akan dilakukan *binning*                                         |
|2.     |New variable name      | *text input*  |Input nama variabel baru                                                                             |
|3.     |Number of bins         | *slider*      |spesifikasi jumlah bin atau kelas yang digunakan                                                     |
|4.     |Level Names            | *radio button*|spesifikasi metode penamaan bin                                                                      |
|5.     |Binning Method         | *radio button*|spesifikasi metode *binning*                                                                         |

: (\#tab:binvartab) Penjelasan item jendela convert numeric variables to factors.


### Merubah Urutan *Factor Levels*

Secara umum saat kita merubah sebuah variabel *character* atau *string* menjadi *factor* level *factor* hasil konversi tersebut diurutkan berdasarkan abjad. Sebuah variabel yang terdiri dari nilai "setuju", "netral", dan "tidak setuju", jika diubah menjadi *factor* akan memiliki urutan level "netral", "setuju", dan "tidak setuju". Urutan tersebut tidak benar dan perlu dirubah. Untuk melakukannya pada `R Commander` jalankan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Reorder factor levels...`.
2. Pada jendela yang muncul spesifikasikan variable *factor* yang akan dirubah (lihat Tabel \@ref(tab:reofac). Klik `OK`.
3. Pada jendela yang muncul, rubah urutan *factor* lama. Klik `OK`.
4. Untuk mengecek *factor level*, jalankan sintaks berikut:

```{r, eval=FALSE}
# ubah nama dataset dan variabel
levels(dataset$namavariabel)
```

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:reorderfac).

```{r reorderfac, echo=FALSE, fig.cap='Tampilan tahapan merubah urutan factor level.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/reorderfac.png"
include_graphics(img1_path)

```

Sintaks dari tahapan merubah urutan *factor* secara umum ditampilkan sebagai berikut:

```{r, eval=FALSE}
dataset$namavariabel <- with(dataset, factor(namavariabel, 
                                  levels=c('level1',
                                            'level2',
                                            ....), 
                            ordered=TRUE))
```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Factor                 | *select box*  |daftar variabel *factor* pada dataset                                                                |
|2.     |Name for factor        | *text input*  |nama variabel *factor* yang baru (jika ingin membuat variabel baru)                                  |
|3.     |Make ordered factor    | *check box*   |spesifikasi apakah *factor* akan diurutkan atau tidak                                                |

: (\#tab:reofac) Penjelasan item jendela reorder factor levels.


### Melakukan *Drop* pada *Factor Levels*

Saat melakukan subset pada dataset yang akan dijelaskan pada Chapter \@ref(transdata) sering kali tidak semua *factor level* ada pada dataset tersebut (sejumlah *factor level* memiliki observasi nol) yang berpengaruh pada analisis data yang kita lakukan. Untuk mengatasinya, kita dapat melakukan *drop* pada *factor level tersebut*. Untuk melakukannya, jalankan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Drop unused factor levels...`.
2. Pada jendela yang muncul spesifikasikan variable *factor* yang akan didrop *factor levelnya*. Klik `OK`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:dropfac).

```{r dropfac, echo=FALSE, fig.cap='Tampilan tahapan drop factor level.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/dropfact.png"
include_graphics(img1_path)

```

Sintaks untuk melakukan *drop factor levels* secara umum adalah sebagai berikut:

```{r, eval=FALSE}
dataset <- within(dataset, {
  namavariabel <- droplevels(namavariabel) 
})
```

### Merubah Nama Variabel pada Data

Untuk merubah nama variabel pada `R Commander` dapat dilakukan dengan dua cara, antara lain:

**Cara 1**

1. Klik *toolbar* `Edit data set`.
2. Pada jendela dataset yang muncul , *double click* nama variabel yang ingin dirubah dan ubah nama variabel tersebut. Klik `OK`

**Cara 2**

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Rename variables...`.
2. Pada jendela yang muncul pilih variabel yang ingin dirubah namanya. Klik `OK`.
3. Pada jendela yang muncul, isikan nama variabel baru dan Klik `OK` jika telah selesai.
4. Untuk mengecek apakah proses telah berhasil, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:renamevar).

```{r renamevar, echo=FALSE, fig.cap='Tampilan tahapan merubah nama variabel.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/renamevar.png"
include_graphics(img1_path)

```

Sintaks untuk merubah nama variabel secara umum adalah sebagai berikut:

```{r, eval=FALSE}
names(dataset)[c(nomorvariabel)] <- c("namavariabelbaru")
```

### Menghapus Variabel

Untuk menghapus variabel pada dataset, jalankan langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Manage variables in active data set/Delete variables from data set...`.
2. Pada jendela yang muncul pilih variabel yang ingin dihapus. Klik `OK`.
3. Untuk mengecek apakah proses telah berhasil, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:deletevar).

```{r deletevar, echo=FALSE, fig.cap='Tampilan tahapan menghapus variabel.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/deletevar.png"
include_graphics(img1_path)

```

Sintaks untuk menghapus variabel secara umum adalah sebagai berikut:

```{r, eval=FALSE}
dataset <- within(dataset, {
  namavariabel1 <- NULL
  namavariabel2 <- NULL 
})

```


## Memanipulasi Dataset{#transdata}

<style>
body{
text-align: justify}
</style>

Pada Chapter \@ref(transdata), kita akan belajar bagaimana memanipuasi dataset. Adapun yang menjadi topik bahasan dalam Chapter \@ref(transdata), antara lain:

* Melakukan subset dataset,
* Agregasi variabel pada dataset,
* Melakukan *drop* observasi pada dataset,
* Melakukan *drop* observasi dengan *missing value*,
* Mengelompokkan variabel menjadi variabel *factor* dan nilai,
* Menggabungkan dua dataset, dan,
* Modifikasi lainnya.

### Melakukan Subset Dataset

Pada analisis data, kita sering kali tidak membutuhkan seluruh observasi dari data yang kita miliki. Kita akan melakukan filter untuk memperoleh data sesuai dengan keperluan kita. Selain itu, melihat subset data berdasarkan kriteria tertentu membantu kita untuk melakukan analisis ekspolarif terhadap data yang kita miliki.

Untuk melakukan subset data, kita memelukan sebuah ekpresi atau formula yang dapat mengecek satu persatu data yang memenuhi formula subset yang telah dibentuk. Sebagai contoh, kita ingin memperoleh dataset tanpa nilai *missing value* pada variabel `namavariabel`. Berikut adalah contoh sintaks formula atau ekspresi yang digunakan:

```{r, eval=FALSE}
!is.na(namavariabel)
```

Untuk membuat formula atau ekspresi tersebut, kita dapat menggunakan kembali operator operasi yang telah dijelaskan pada Chapter \@ref(opop). Langkah-langkah untuk melakukan subset pada dataset adalah sebagai berikut:

1. Pada menu `Data`, klik `Data/Active data set/Subset active data set...`.
2. Pada jendela yang muncul spesifikasikan variabel yang akan dipilih pada dataset baru dan formula subset yang digunakan (lihat Tabel \@ref(tab:subset)). Klik `OK`.
3. Untuk mengecek dataset, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:subsetdata).

```{r subsetdata, echo=FALSE, fig.cap='Tampilan tahapan melakukan subset pada dataset.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/subsetdata.png"
include_graphics(img1_path)

```

Secara umum sintaks untuk melakukan proses subset adalah sebagai berikut:

```{r, eval=FALSE}
contoh_subset <- subset(dataset,subset=formula_subset)
```


|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Include all variables  | *check box*   |opsi apakah akan menyertakan seluruh variabel pada hasil subset                                      |
|2.     |Variables              | *select box*  |daftar nama variabel yang dapat dipilih untuk ditampilkan pada hasil subset                          |
|3.     |Subset expression      | *text input*  |formula atau ekpresi subset yang digunakan                                                           |
|4.     |Name for new data set  | *text imput*  |opsi untuk memberikan nama pada dataset baru atau tidak (dataset lama akan dihapus)                  |

: (\#tab:subset) Penjelasan item jendela subset data set.

### Agregat Variabel pada Dataset

Submenu `agregate variables in active dataset` memberikan ringkasan nilai satu atau beberapa variabel berdasarkan level variabel *factor* dan menghasilkan dataset baru dengan satu observasi untuk tiap level *factor*. Proses agregasi mengaplikasikan beberapa fungsi seperti `mean()`, `sum()`, atau fungsi lainnya untuk menghasilkan sebuah nilai untuk setiap observasi pada tiap variabel dan level *factor*.

Fungsi statistika deskriptif bawaan yang dapat digunakan pada `R Commander` ditampilkan pada Tabel \@ref(tab:builtinfun).

**Fungsi**     | **Keterangan**           
---------------|----------------------------------
`mean`         | rata-rata
`median`       | median
`sum`          | jumlah seluruh observasi dalam sebuah variabel
`quantile`     | kuantil data
`min`          | nilai observasi minimum
`max`          | nilai observasi maksimum
`IQR`          | rentang antar kuartil
`mad`          | simpangan absolut median
`sd`           | simpangan baku
`var`          | varians

: (\#tab:builtinfun) Fungsi statistika deskriptif bawaan pada R.

Tahapan agregasi variabel dilakukan melalui langkah-langkah berikut:

1. Pada menu `Data`, klik `Data/Active data set/Aggregate variables in active data set...`.
2. Spesifikan variabel yang akan dilakukan agregasi, *factor level* yang digunakan, dan fungsi agregat yang digunakan (lihat Tabel \@ref(tab:agregat)). Klik `OK`.
3. Untuk mengecek dataset, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:agregatdata).

```{r agregatdata, echo=FALSE, fig.cap='Tampilan tahapan agregasi variabel.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/agregatvar.png"
include_graphics(img1_path)

```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Name for aggregated..  | *text input*  |input nama dataset baru yang dihasilkan                                                              |
|2.     |Variables to aggregate | *select box*  |daftar nama variabel yang dapat dipilih untuk diagregasi                                             |
|3.     |Aggregated by          | *select box*  |daftar nama variabel factor yang digunakan untuk agregasi                                            |
|4.     |Statistic              | *text imput*  |fungsi statistik yang digunakan untuk agregasi                                                       |

: (\#tab:agregat) Penjelasan item jendela aggregate observations.

Sintaks untuk melakukan proses agragasi secara umu dituliskan sebagai berikut:

```{r, eval=FALSE}
datasetbaru<- aggregate(dataframe ~ var_factor, 
                        data=dataset, FUN=statistic, ...)
```

Argumen `...` pada sintaks tersebut merupakan argumen tambahan pada fungsi statistik yang digunakan. Secara umum argumen tambahan yang digunakan fungsi yang ditampilkan pada Tabel \@ref(tab:builtinfun) adalah `na.rm=TRUE`, yaitu: jika data mengandung *missing value*, maka observasi yang mengandung *missing value* tersebut akan di drop. Selain argumen tersebut, fungsi `quantile` memerlukan argumen spesifikasi `prob` atau spesifikasi kuantil yang akan ditampilkan (misal:`prob=0.5` untuk kuantil ke-50 atau median). Untuk menambahkan argumen tersebut, pembaca dapat menspesifikasikannya pada bagian `Statistic` pada jendela `aggregate observations` yaitu pada pilihan `Other (specify)` seperti yang ditunjukkan pada Gambar \@ref(fig:agregatdata).


### Melakukan *Drop* Observasi pada Dataset

Kita dapat melakukan drop terhadap sejumlah baris observasi berdasarkan indeks (nomor baris observasinya) atau nama baris observasinya. Seleksi baris yang akan di*drop* dilakukan menggunakan metode yang ditampilkan pada Tabel \@ref(tab:recodevar), yaitu: baris individual (contoh: `1`), set baris (contoh: `1,2,3..,k`), atau rentang baris (contoh: `1:5`) untuk seleksi menggunakan indeks. Langkah-langkah untuk melakukan seleksi baris yang akan di*drop* adalah sebagai berikut:

1. Pada menu `Data`, klik `Data/Active data set/Remove row(s) from active data set...`.
2. Spesifikan index baris yang akan di drop dan nama output dataset baru (lihat Tabel \@ref(tab:remove)). Klik `OK`.
3. Untuk mengecek dataset, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:removerow).

```{r removerow, echo=FALSE, fig.cap='Tampilan tahapan melakukan drop observasi.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/removerow.png"
include_graphics(img1_path)

```

Sintaks yang digunakan untuk melakukan *drop* baris observasi secara umu adalah sebagai berikut:

```{r, eval=FALSE}
datasetbaru <- dataset[-c(indeks),]
```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Indices or quoted...   | *text input*  |indeks atau nama baris yang akan di  *drop* atau di hapus                                            |
|2.     |Name for new data set  | *text input*  |input nama dataset baru yang dihasilkan                                                              |

: (\#tab:remove) Penjelasan item jendela remove rows from active data set.


### Melakukan *Drop* Observasi dengan *Missing Value*

Selain menggunakan submenu `subset active data set`, *drop missing value* dapat pula dilakukan dengan menggunakan submenu `remove cases with missing data`. Perbedaan antara metode pertama dan kedua  adalah pada metode kedua *drop missing value* dilakukan pada seluruh variabel dalam dataset. Tahapan untuk melakukannya adalah sebagai berikut:

1. Pada menu `Data`, klik `Data/Active data set/Remove cases with missing data...`.
2. Spesifikan variabel yang akan dipilih untuk dataset baru dan nama output dataset (lihat Tabel \@ref(tab:missing)). Klik `OK`.
3. Untuk mengecek dataset, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:missingval).

```{r missingval, echo=FALSE, fig.cap='Tampilan tahapan melakukan drop observasi dengan missing value.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/missingval.png"
include_graphics(img1_path)

```

Sintaks untuk melakukan *drop missing value* pada seluruh variabel dalam dataset secara umum adalah sebagai berikut:

```{r,eval=FALSE}
datasetbaru <- na.omit(dataset)
```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Include all variables  | *check box*   |pilihan apakah akan menyertakan seluruh variabel pada dataset baru atau tidak                        |
|2.     |Variables              | *select box*  |daftar variabel yang dapat dipilih untuk disertakan dalam dataset baru                               |
|3.     |Name for new data set  | *text input*  |input nama dataset baru                                                                              |

: (\#tab:missing) Penjelasan item jendela remove missing data.

### Mengelompokkan Variabel Menjadi Variabel *Factor* dan Nilai

Submenu `stack variables in active data set` membuat sebuah dataset baru dimana dua atau lebih variabel ditumpuk menjadi variabel satu variabel dengan nilai variabel sebelumnya ditampilkan pada variabel nilai. Jika terdapat $n$ observasi dalam dataset dan $k$ variabel, maka dataset baru akan terdiri dari 2 variabel (*factor* dan *numeric*) dan $n\times k$ observasi. Tahapan untuk melakukannya adalah sebagai berikut:

1. Pada menu `Data`, klik `Data/Active data set/Stack variables in active data set...`.
2. Spesifikan variabel yang akan dipilih untuk dataset baru dan nama output dataset (lihat Tabel \@ref(tab:stack)). Klik `OK`.
3. Untuk mengecek dataset, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:stackvar).

```{r stackvar, echo=FALSE, fig.cap='Tampilan tahapan mengelompokkan variabel menjadi variabel factor dan nilai.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/stackvar.png"
include_graphics(img1_path)

```

Terdapat dua buah sintaks dalam melakukan proses pengelompokan data. Sintaks pertama melakukan pengelompokan data, sedangkan sintaks kedua merubah nama kolom dataset baru. Kedua sintaks tersebut adalah sebagai berikut:

```{r,eval=FALSE}
datasetbaru <- stack(dataset[, c("variabel1","variabel2",..)])
names(datasetbaru) <- c("value", "factor")
```


|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Variables              | *select box*  |daftar variabel yang dapat dipilih untuk dikelompokkan                                               |
|2.     |Name for staked data.. | *text input*  |nama dataset baru hasil pengelompokan                                                                |
|3.     |Name for variable      | *text input*  |nama variabel nilai hasil pengelompokkan                                                             |
|4.     |Name for factor        | *text input*  |nama variabel *factor* hasil pengelompokan nama variabel pada dataset sebelumnya                     |

: (\#tab:stack) Penjelasan item jendela stack variables.

### Menggabungkan Dua Dataset

Untuk menggabungkan dua buah dataset, kedua dataset perlu memiliki elemen kunci yang sama. Secara *default* `R Commander` mengambil *rownames* sebagai elemen kunci, sehingga elemen kunci yang dimiliki oleh masing-masing dataframe haruslah konsisten satu sama lain. Penggabungan dataset dapat dilakukan melalui penggabungan kolom dan baris. Penggabungan juga dapat dilakukan melalui elemen unik dari baris maupun kolom. Maksudnya adalah `R Commander` hanya menggabungkan dataset yang memiliki elemen kunci sama (*rownames* sama) pada kedua dataset. Jika terdapat observasi pada dataset 1 dan tidak memiliki *rownames* atau elemen kunci sama pada dataset 2, maka  observasi tersebut akan dihapus dari proses penggabungan data. Tahapan penggabungan dua buah dataset adalah sebagai berikut:

1. Pada menu `Data`, klik `Data/Merge data set...`.
2. Pada jendela yang muncul, klik dataset yang akan digabungkan dan cara penggabungannya (lihat Tabel \@ref(tab:merge)). Klik `OK`.
3. Untuk mengecek dataset, klik *toolbar* `View data set`.

Visualisasi tahapan tersebut ditampilkan pada Gambar \@ref(fig:mergedata).

```{r mergedata, echo=FALSE, fig.cap='Tampilan tahapan menggabungkan dua buah dataset.', tidy=FALSE, out.width='70%', fig.align='center', warning=FALSE, message=FALSE}
library(knitr)
img1_path <- "./images/chp2/merge.png"
include_graphics(img1_path)

```

Sintaks yang digunakan untuk menggabungkan dua buah dataset secara umum adalah sebagai berikut:

```{r,eval=FALSE}
# penggabungan baris tanpa mempertimbangkan
# elemen unik
datasetbaru <- mergeRows(data1, data2, common.only=FALSE)

# pengagbungan kolom dengan mempertimbangkan
# elemen unik
datasetbaru <- merge(data1, data2, all=FALSE, by="row.names")
rownames(datasetbaru) <- datasetbaru$Row.names
datasetbaru$Row.names <- NULL

```

|**No.**|**Item**               |**Jenis Input**| **Keterangan**                                                                                      |
|:------|:----------------------|:--------------|:----------------------------------------------------------------------------------------------------|
|1.     |Name for merge data set| *text input*  |input nama dataset baru                                                                              |
|2.     |First Data set         | *select box*  |daftar dataset pertama yang akan digabung                                                            |
|3.     |Second Data set        | *select box*  |daftar dataset kedua yang akan digabung                                                              |
|4.     |Direction or Merge     | *radio button*|pilihan cara penggabungan                                                                            |
|5.     |Merge only common...   | *check box*   |opsi apakah hanya observasi dengan elemen unik yang ada pada dua buah dataset yang akan digabungkan  |

: (\#tab:merge) Penjelasan item jendela merge data sets.


### Modifikasi Lainnya


